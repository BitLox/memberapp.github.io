var postNiftyTemplate = `
<div class="post">
    <div class="post-content">
        <div class="post-header">
            {author}
            <span data-vavilon="VV0151" class="fulltext">submitted</span>
            <span class="elapsed-time">
                {elapsed}
            </span>
            <span class="elapsed-time-compressed">
                {elapsedcompressed}
            </span>
            <span class="topic">
                {topic}
            </span>
        </div>
        <div class="post-body-wrapper">
            <div class="post-body">
                {message}
            </div>
            <div class="post-quote">
                {quote}
            </div>
            <div class="post-footer">
                <span class="post-footer-reply">
                    <a id="replylink{txid}posts{diff}" onclick="showReplyBox('{txid}posts{diff}');" href="javascript:;"
                        class="btn-icon" data-action="reply">
                        <span class="icon">
                            💬
                        </span>
                    </a>
                    <a href="#thread?root={roottxid}&amp;post={txid}" onclick="nlc();">
                        <span class="text">
                            {replies}
                        </span>
                        <span data-vavilon="VV0153" class="text footerlabel">replies</span>
                    </a>
                </span>
                <span class="post-footer-upvote{likeactivated}" id="upvote{txid}">
                    <a id="upvoteaction{txid}" href="javascript:;" onclick="likePost('{txid}','{address}')"
                        class="btn-icon" data-action="like">
                        <span class="icon">
                            💙
                        </span>
                    </a>
                    <a href="javascript:;" onclick="showScoresExpanded('{txid}','scoresexpanded{txid}{diff}')">
                        <span class="text likestext" id="nlikescount{txid}">
                            {likes}
                        </span>
                        <span class="text likesbalance" id="nscore{txid}">
                            {likesbalance}
                        </span>
                        <span data-vavilon="likes" class="text footerlabel">likes</span>
                    </a>
                </span>
                <span class="post-footer-downvote{dislikeactivated}" id="downvote{txid}">
                    <a id="downvoteaction{txid}" href="javascript:;" onclick="dislikePost('{txid}','{address}')"
                        class="btn-icon" data-action="dislike">
                        <span class="icon">
                            👎
                        </span></a>

                    <a href="javascript:;" onclick="showScoresExpanded('{txid}','scoresexpanded{txid}{diff}')">
                        <span class="text" id="ndislikescount{txid}">
                            {dislikes}
                        </span>
                        <span data-vavilon="dislikes" class="text footerlabel">dislikes</span>
                    </a>
                </span>
                <span class="post-footer-remembers{rememberactivated}" id="remembers{txid}">
                    <a id="quotelinkposts{diff}{txid}" href="#new?txid={txid}" class="btn-icon" data-action="remember">
                        <span class="icon">
                            ♻
                        </span></a>
                    <a href="javascript:;" onclick="showRemembersExpanded('{txid}','remembersexpanded{txid}{diff}')">
                        <span class="text" id="repostscount{txid}">
                            {remembers}
                        </span>
                        <span data-vavilon="VV0156" class="text footerlabel">remembers</span>
                    </a>
                </span>
                <span class="post-footer-tips">
                    <a id="tiplinkposts{diff}{txid}" onclick="showTipBox('posts{diff}{txid}');" href="javascript:;"
                        class="btn-icon" data-action="tip">
                        <span class="icon">
                            💰
                        </span></a>
                    <a href="javascript:;" onclick="showScoresExpanded('{txid}','scoresexpanded{txid}{diff}')">
                        <span class="text" data-amount="{tipsinsatoshis}">{tips}</span>
                        <span data-vavilon="tips" class="text footerlabel">tips</span>
                    </a>
                </span>
                <span class="dropdown">
                    <button class="dropbtn">☰</button>
                    <div class="dropdown-content">
                        <a class="permalink" id="permalinkposts{diff}{txid}" href="p/{txidshort}"><span
                                data-vavilon="permalink">Permalink</span></a>
                        <a id="articlelinkposts{diff}{txid}" href="a/{txidshort}"><span data-vavilon="article"><a
                                    href="#">Article</span></a>
                        <span class="divider"></span>
                        <span class="actions-title">Blockchain</span>
                        <span><a rel="noopener noreferrer" target="memo"
                                href="https://memo.cash/a/{txid}">Memo</a></span>
                        <span><a rel="noopener noreferrer" target="bitcoincom"
                                href="https://explorer.bitcoin.com/bch/tx/{txid}">Bitcoin.com</a></span>
                        <span><a rel="noopener noreferrer" target="btccom"
                                href="https://bch.btc.com/{txid}">BTC.com</a></span>
                        <span><a rel="noopener noreferrer" target="blockchair"
                                href="https://blockchair.com/bitcoin-cash/transaction/{txid}">Blockchair</a></span>
                        <span><a rel="noopener noreferrer" target="bitcoinunlimited"
                                href="https://explorer.bitcoinunlimited.info/tx/{txid}">Bitcoin Unlimited</a></span>
                        <span class="divider"></span>
                        <span data-vavilon="moderate" class="actions-title">Moderate</span>
                        <a id="hidepostlinkposts{diff}{txid}" onclick="sendHidePost('{txid}');"
                            href="javascript:;"><span data-vavilon="VV0161">Flag post</span></a>
                        <a id="hideuserlinkposts{diff}{txid}"
                            onclick="hideuser('{address}','','hideuserlinkposts{diff}{txid}');"
                            href="javascript:;"><span data-vavilon="flaguser">Flag user</span></a>
                        {hideuser}
                    </div>
                </span>
            </div>
            <span id="tipboxposts{diff}{txid}" style="display:none">
                <input id="tipamountposts{diff}{txid}" type="number" value="0" min="0" style="width: 6em;" step="1000">
                <input id="tipbuttonposts{diff}{txid}" value="tip" type="submit"
                    onclick="sendTip('{txid}','{address}','posts{diff}');">
                <input id="tipstatusposts{diff}{txid}" value="sending" type="submit" style="display:none" disabled="">
            </span>
            <div id="scoresexpanded{txid}{diff}" class="scoreexpanded"></div>
            <div id="remembersexpanded{txid}{diff}" class="remembersexpanded"></div>
            {replydiv}
        </div>
        
    </div>
</div>
`;

var niftyHeaderHTML = `
<div class="pagetop">
    <nav>
        <span class="memberlogo">
            I'm nifty<a href="./index.html" aria-label="Refresh">
                <img class="memberlogoimagefull" src="img/logos/logowide.svg" width="130" height="26"
                    alt="Site Logo Full" />
                <img class="memberlogoimage" src="img/logos/membericon.svg" width="26" height="26"
                    alt="Site Logo Icon" />
            </a>
        </span>
        <span class="navitemsmain">
            <span id="loggedin" style="display:none;">
                <span class="headerbuttons">
                    <span data-vavilon_title="refreshbalance" onclick="refreshPool();return false;"
                        title="Refresh Balance" id="balancedetails" class="balancedetails"><span
                            id="balance">0</span></span>
                    <a data-vavilon_title="VV0094" id="myfeedbutton"
                        title="My Feed (Latest posts from your topics or peeps)" class="btn" href="#myfeed"
                        onclick="nlc();">📰</a>
                    <a data-vavilon_title="VV0095" id="notificationsbutton" title="Notifications" class="btn"
                        href="#notifications?start=0" onclick="nlc();">🔔<span class="alertcount noselect"
                            id="alertcount"></span></a>
                    <a data-vavilon_title="VV0096" id="newbutton" title="New Post" class="btn newpostbutton" href="#new"
                        onclick="nlc();">🖊️</a>
                    <a data-vavilon_title="VV0097" id="privatemessagesbutton" title="Messages"
                        class="btn privatemessagesbutton" href="#messages" onclick="nlc();">📧<span
                            class="alertcount noselect" id="alertcountpm"></span></a>
                    <a data-vavilon_title="VV0098" id="settingsbutton" title="Settings" class="btn" href="#settings"
                        onclick="nlc();">⚙️</a>
                    <a data-vavilon_title="VV0099" id="toolsbutton" title="Tools" class="btn" href="#tools"
                        onclick="nlc();">🛠️</a>
                </span>
            </span>
            <span class="headerbuttons">
                <a data-vavilon_title="VV0100" id="topiclistbutton" title="Topic List" class="btn" href="#topiclist"
                    onclick="nlc();">📚</a>
                <a data-vavilon_title="VV0101" id="mapbutton" title="Map" class="btn" href="#map"
                    onclick="nlc();">🌍</a>
            </span>
            <span id="loggedout" class="loggedout">
                <a data-vavilon="VV0102" id="loginbutton" class="btn vavilon" href="#login" onclick="nlc();">login</a>
                <span class="separatorwide"></span>
                <a data-vavilon="VV0103" id="loginbutton" class="btn vavilon" href="#login" onclick="nlc();">start</a>
            </span>
            <span class="separatorwidebreakpoint"></span>
            <span id="topiccontainer" class="topiccontainer">
                <select id="orderselector" onchange="postsSelectorChanged();">
                    <option data-vavilon="VV0104" data-vavilon_title="VV0105" value="hot" title="Hottest posts"
                        selected="selected">Hot</option>
                    <option data-vavilon="VV0106" data-vavilon_title="VV0107" value="new" title="Latest posts">New
                    </option>
                    <option data-vavilon="VV0108" data-vavilon_title="VV0109" value="topd"
                        title="Top posts from the past Day">Day</option>
                    <option data-vavilon="VV0110" data-vavilon_title="VV0111" value="top48"
                        title="Top posts from the past 48 Hours">48hrs</option>
                    <option data-vavilon="VV0112" data-vavilon_title="VV0113" value="topw"
                        title="Top posts from the past Week">Week</option>
                    <option data-vavilon="VV0114" data-vavilon_title="VV0115" value="topm"
                        title="Top posts from the past Month">Month</option>
                    <option data-vavilon="VV0116" data-vavilon_title="VV0117" value="topy"
                        title="Top posts from the past Year">Year</option>
                    <option data-vavilon="VV0118" data-vavilon_title="VV0119" value="topa"
                        title="Top posts from all time">All</option>
                </select>
                <select id="contentselector" label="content" onchange="postsSelectorChanged();">
                    <option data-vavilon="VV0120" data-vavilon_title="VV0121" title="See only posts" value="posts"
                        selected="selected">Posts</option>
                    <option data-vavilon="VV0122" data-vavilon_title="VV0123" title="See only replies" value="replies">
                        Replies</option>
                    <option data-vavilon="VV0124" data-vavilon_title="VV0125" title="See both posts and replies"
                        value="both">In Both</option>
                </select>
                <select id="topicselector" label="topic" onchange="postsSelectorChanged();">
                    <option data-vavilon="VV0126" data-vavilon_title="VV0127" value="" title="From all topics"
                        selected="selected">All Topics</option>
                    <option value=""></option>
                    <option value="">---------------</option>
                    <option data-vavilon="VV0128" data-vavilon_title="VV0129" value="MyTopics"
                        title="From topics you are subscribed to">My Topics</option>
                    <option data-vavilon="VV0130" data-vavilon_title="VV0131" value="MyFeed"
                        title="From topics you are subscribed to or people you follow">My Feed</option>
                    <option value="Member">Member</option>
                    <option value="Bitcoin Cash">Bitcoin Cash</option>
                    <option value="Poker">Poker</option>
                    <option value="Memo">Memo</option>
                    <option value="SLPTokens">SLPTokens</option>
                    <option value="Tokens">Tokens</option>
                    <option value="Philippines">Philippines</option>
                    <option value="Capitalism">Capitalism</option>
                    <option value="US Politics/Trump">US Politics</option>
                    <option value="Favorite Quotes">Quotes</option>
                    <option value="Ideas to improve our lives">Improvement</option>
                    <option value="#911Truth">#911Truth</option>
                </select>
                <select id="filterselector" label="filter" onchange="postsSelectorChanged();">
                    <option data-vavilon="VV0132" data-vavilon_title="VV0133" value="everyone" title="From everyone"
                        selected="selected">Everyone</option>
                    <option data-vavilon="VV0134" data-vavilon_title="VV0135" value="mypeeps"
                        title="From people you follow">My Peeps</option>
                </select>
            </span>
        </span>
        <a data-vavilon_title="VV0136" id="refreshbutton" title="Refresh Content" class="headerbuttons btn" href=""
            onclick="postsSelectorChanged();return false;">🔄</a>
    </nav>
</div>
`;

