var mainbodyHTML=`
<header id="header"></header>
<div class="mainbody">
    <div id="loading" class="applicationpage loading" style="display: none;">
        <div class="loading"></div>
    </div>

    <div id="lowfundswarning" class="alert" style="display: none;"></div>

    <div id="toolsanchor" class="applicationpage" style="display: none;"></div>

    <div id="newpost" class="applicationpage newpost" style="display: none;"></div>

    <div id="feed" style="display: none;"></div>

    <div id="notifications" style="display: none;"></div>

    <div id="memberanchor" class="member" style="display: none;"></div>

    <div id="trustgraph" class="trustgraph" style="display:none;"></div>

    <div id="settingsanchor" style="display: none;"></div>

    <div id="anchorratings" class="ratings" style="display: none;"></div>

    <div id="community" class="community" style="display: none;"></div>

    <div id="memberposts" style="display: none;"></div>

    <div id="followers" class="followers" style="display: none;"></div>

    <div id="following" class="following" style="display: none;"></div>

    <div id="blockers" class="blockers" style="display: none;"></div>

    <div id="blocking" class="blocking" style="display: none;"></div>

    <div id="messagesanchor" class="applicationpage" style="display: none;"></div>

    <div id="topicmeta" class="applicationpage" style="display: none;"></div>

    <div id="posts" style="display: none;"></div>

    <div id="comments" style="display: none;"></div>

    <div id="thread" style="display: none;"></div>

    <div id="loginbox" class="applicationpage loginbox" style="display: none;"></div>

    <div id="topiclistanchor" style="display: none;"></div>
</div>`;

var loginboxHTML=`
<div class="content">
    <br />
    <br />
    <br />
    <button class="loginbutton" type="button" href="#settings" onclick="createNewAccount();">Make New
        Phrase</button>
    <br />
    <div id="newseedphrasedescription" style="display: none;">
        <br />Here is your password. It is a phrase. Write it down.<br /><br /><label>12 Word Seed
            Phrase</label>
        <div id="newseedphrase"></div>
    </div>
    <br />
    <hr />
    <br />
    <br />
    <br /><span class="vavilon" data-vavilon="seed phrase">Phrase (12 words)</span>
    <br />
    <div class="formgroup">
        <input size="64" id="loginkey">
        <button class="loginbutton" type="button" href="#feed" class="vavilon" data-vavilon="log in"
            onclick="trylogin(document.getElementById('loginkey').value);">login</button>
    </div>
    <br />
    <div id="loginerror">
    </div>
    <br />
    <br />
    <div class="loginnotes">
        *Memo Users. You can also login with your key (Compressed WIF: Starts with 'L..' or 'K..'). <a
            rel='noopener noreferrer' target="memo" href="https://memo.cash/key/export">Fetch from
            Memo</a>.
    </div>
    <br />
    <br />
</div>
`;

var lowfundswarningHTML=`
<div class="content">
    <span class="lowfundsaddressdiv" id="lowfundsaddressdiv"></span><br />
    <span id="satoshiamount">0</span> <span class="vavilon" data-vavilon="satoshiamounttext">satoshis
        exist in your member.cash account - each
        action (posting, liking, subscribing, following, messaging etc)
        requires a small amount of Bitcoin Cash. Add some funds, a few cents is enough.</span>
    <br />
    <br />
    <span class="vavilon" data-vavilon="your address is">Your address is</span> <span id="lowfundsaddress"></span>
    <br />
    <br />
    <span class="vavilon" data-vavilon="ask nuggets">Send Nuggets your address for a few cents if you're
        finding it difficult to get some.</span>
    <br />
    Twitter <a rel='noopener noreferrer' href="https://twitter.com/chickenorgold">@chickenorgold</a><br />
    Reddit <a rel='noopener noreferrer'
        href="https://www.reddit.com/user/theamazingnuggets">/u/theamazingnuggets</a><br />
    Email <a rel='noopener noreferrer' href="mailto:nuggetcoins@gmail.com">nuggetcoins@gmail.com</a><br />
    <br />
    <br />
    <a href="" onclick="refreshPool();return false;"><span class="vavilon" data-vavilon="refresh balance">Refresh
            your balance</span></a> or
    <a href="" onclick="document.getElementById('lowfundswarning').style.display = 'none';return false;"><span
            class="vavilon" data-vavilon="dismiss message">Dismiss
            this message</span></a>
</div>
`;

var toolsanchorHTML=`
<div class="content">
    <h2 class="vavilon" data-vavilon="Tools">Tools</h2>
    <div id="sendfunds">
        <label for="sendfundsname">Send Funds To Another Address</label>
        <p>You can send funds to another Bitcoin Cash address.</p>

        <label for="fundsamount">Amount (In Satoshi)</label>
        <input id="fundsamount" size="12" type="number" maxlength="12">

        <label for="fundsamount">Bitcoin Cash Address (Any format)</label>
        <input class="sendfundsaddress" id="sendfundsaddress" maxlength="200" size="60">
        <button id="sendfundsbutton" type="button" onclick="sendfunds();" class="vavilon" data-vavilon="Send Funds">Send
            Funds</button>
        <br />
    </div>

    <br />
    <hr />
    <br />
    <div id="surrogatecontainer">
        <label for="surrogatename">Create Surrogate Member Account</label>
        <p>You can create a Surrogate Member account if you want to rate a user or organization that
            does
            not have their own Member account yet. '(Surrogate)' will follow the
            handle to indicate the account is not claiming the identity, just acting as a receptacle for
            reputational information.
        </p>
        <div class="formgroup">
            <input class="surrogatename" id="surrogatename" maxlength="200"
                onchange="userSearchChanged('surrogatename','surrogatesearchresults');" onkeypress="this.onchange();"
                onpaste="this.onchange();" oninput="this.onchange();">
            <button id="createsurrogatebutton" type="button" onclick="createSurrogate();" class="vavilon"
                data-vavilon="Create Surrogate">Create</button>
        </div>
        <br />
        <div id="surrogatelink"></div>
        <div id="surrogatesearchresults"></div>
    </div>
    <br />
    <hr />
    <br />
    <a rel='noopener noreferrer' target="tokenrecycler" href="https://slpvh.github.io/Token-Recycler/">Token
        Recycler (External link)</a><br />
    <br />
</div>
`;

var newpostHTML=`
<br />
<div id="memorandumarea">
    <input type="hidden" name="quotetxid" value="" id="quotetxid">
    <div id="memorandumtopicbutton">
        <a href=""
            onclick="document.getElementById('memorandumtopicarea').style.display = 'block';document.getElementById('memorandumtopicbutton').style.display = 'none'; return false;">+add
            topic</a>
    </div>
    <div id="memorandumtopicarea" style="display: none;">
        <label for="memorandumtopic">topic (optional) <span id="memorandumtopiclengthadvice">(0/214)</span></label>
        <input class="memorandumtopic" id="memorandumtopic" maxlength="217" onchange="topictitleChanged('memorandum');"
            onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
    </div>
    <div>
        <textarea class="memorandumtitle" id="memorandumtitle" maxlength="217" rows="4" cols="60"
            onchange="topictitleChanged('memorandum'); memorandumPreview();" onkeypress="this.onchange();"
            onpaste="this.onchange();" oninput="this.onchange();"></textarea>
        <label for="memorandumtitle"><span id="memorandumtitlelengthadvice">(0/217)</span></label>
    </div>
    <div id="memorandumtextbutton">
        <br />
        <a href=""
            onclick="document.getElementById('memorandumtextarea').style.display = 'block';document.getElementById('memorandumtextbutton').style.display = 'none'; return false;">+add
            text</a>
    </div>
    <div id="memorandumtextarea" style="display: none;">
        <label for="newposttamemorandum">text (optional)</label>
        <textarea id="newposttamemorandum" name="text" rows="20" cols="80" onchange="memorandumPreview();"
            onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"></textarea>
    </div>
    <br />
    <div id="quotepost" class="quotepost"></div>
    <br />
    <div>
        <input id="newpostmemorandumbutton" class="vavilon" data-vavilon="post" value="Post" type="submit"
            onclick="postmemorandum();">
        <input id="newpostmemorandumstatus" style="display: none;" value="Sending . . ." type="submit" disabled>
        <div id="newpostmemorandumcompleted"></div>
    </div>
    <br />
    <div id="memorandumpreviewareabutton">
        <br />
        <a href=""
            onclick="document.getElementById('memorandumpreviewarea').style.display = 'block';document.getElementById('memorandumpreviewareabutton').style.display = 'none'; memorandumPreview(); return false;">+see
            preview</a>
    </div>
    <div id="memorandumpreviewarea" style="display: none;">

        <label for="memorandumpreview">Preview
            <div id="switchToArticleMode" class="switchToArticleMode"><a href='javascript:;'
                    onclick="switchToArticleMode();">(Switch to Article Mode)</a></div>
            <div id="switchToRegularMode" class="switchToRegularMode"><a href='javascript:;'
                    onclick="switchToRegularMode();">(Switch to Regular Mode)</a></div>
        </label>
        <div id="memorandumpreview" class="fatitem">
        </div>
    </div>
</div>
`;

var messagesanchorHTML=`
<div class="content">
    <h2>Private Messages</h2>
    <p>Warning: The metadata of your private messages will be public on the blockchain (that's the
        sender,
        recipient, size and time of your message).
        Additionally, if the recipient's private key is made public in the future, the recipient's
        messages
        will become public. Using the blockchain for
        messaging is generally not advised. Nevertheless, you're a big boy and this facility is made
        available to you if you wish to use it.
    </p>
    <div id="usersearchcontainer">
        <label for="usersearch">Member Search</label>
        <input class="usersearch" id="usersearch" maxlength="217"
            onchange="userSearchChanged('usersearch','usersearchresults');" onkeypress="this.onchange();"
            onpaste="this.onchange();" oninput="this.onchange();">
        <br />
        <div id="usersearchresults"></div>
    </div>
    <div id="sendmessagecontainer">
        <label>Send Encrypted Message</label>
        <label for="messageto"><span class="vavilon" data-vavilon="to">To</span></label>
        <span id="messagerecipient" class="messagerecipient">(Search for user above)</span>
        (<span id="messageaddress" class="messageaddress"></span>)
        (<span id="messagepublickey" class="messagepublickey"></span>)
        <div id="sendmessagebox" style="display: none;">
            <label for="stampamount">Stamp Amount (in sats, minimum 547)</label>
            <input id="stampamount" size="8" type="number" value="547">
            <div>
                <label for="newposttamessage">Message</label>
                <textarea id="newposttamessage" name="text" rows="20" cols="80"></textarea>
            </div>
            <div>
                <input id="newpostmessagebutton" class="vavilon" data-vavilon="send" value="Send Message" type="submit"
                    onclick="postprivatemessage();">
                <input id="newpostmessagestatus" style="display: none;" value="Sending . . ." type="submit" disabled>
                <div id="newpostmessagecompleted"></div>
            </div>
        </div>
        <br />
        <br />
    </div>
    <div id="messageslist"></div>
</div>
`;

var fbHTML={};
fbHTML.followers=`
<div class="content">
    <h2>Followers</h2>
    <br />
    <table class="table">
        <thead>
            <tr>
                <th>Member</th>
                <th></th>
                <th>Member</th>
            </tr>
        </thead>
        <tbody id="followerstable">
        </tbody>
    </table>
</div>
`;

fbHTML.following=`
<div class="content">
    <h2>Following</h2>
    <br />
    <table class="table">
        <thead>
            <tr>
                <th>Member</th>
                <th></th>
                <th>Member</th>
            </tr>
        </thead>
        <tbody id="followingtable">
        </tbody>
    </table>
</div>
`;

fbHTML.blockers=`
<div class="content">
    <h2>Muters</h2>
    <br />
    <table class="table">
        <thead>
            <tr>
                <th>Member</th>
                <th></th>
                <th>Member</th>
            </tr>
        </thead>
        <tbody id="blockerstable">
        </tbody>
    </table>
</div>
`;

fbHTML.blocking=`
<div class="content">
    <h2>Muting</h2>
    <br />
    <table class="table">
        <thead>
            <tr>
                <th>Member</th>
                <th></th>
                <th>Member</th>
            </tr>
        </thead>
        <tbody id="blockingtable">
        </tbody>
    </table>
</div>
`;

var communityHTML=`
<div class="content">
    <h2>Ratings Of This Member</h2>
    <br />
    <table class="table">
        <thead>
            <tr>
                <th>Member</th>
                <th>Rates</th>
                <th>Member</th>
            </tr>
        </thead>
        <tbody id="communityratingtable">
        </tbody>
    </table>
    <br /><br />
</div>
`;

var anchorratingsHTML=`
<div class="content">
    <h2>Ratings By This Member</h2>
    <br />
    <table class="table">
        <thead>
            <tr>
                <th>Member</th>
                <th>Rates</th>
                <th>Member</th>
            </tr>
        </thead>
        <tbody id="memberratingtable">
        </tbody>
    </table>
</div>
`;

var trustgraphHTML=`
<div class="content">
    <h2>Trust Graph</h2>
    <div id="trustgraphdetails"></div>
    <br />
    <br />
    <div id="trustgraphnotes">*Notes: A mute is interpreted as a 2-star rating.</div>
</div>
`;


var pages = {};
pages.member = `
<div class="content">
    <h2>Member</h2>
    <div class="memberpiccontainer">
        <label id="memberpiclargelabel" for="memberpic" style="display:inline;">Profile Picture</label>
        <span class="memberpiclarge" style="display:inline;">
            {profilepiclargehtml}
        </span>
    </div>
    <label for="membernametext">Handle</label>
    <div id="membernametext">{handle}<a class="populate-send-message"
            onclick="populateSendMessage('{address}','{handlefunction}','{publickey}');" href="javascript:;">Send
            Message</a></div>
    <label for="memberpagingid">Paging ID</label>
    <div id="memberpagingid">@{pagingid}</div>
    <label for="memberprofiletext">Profile</label>
    <div id="memberprofiletext">{profile}</div>
    <div id="memberprofilelinks">
        <label>Profile Links</label>
        <div>
            <a href="#member?qaddress={address}" id="memberprofilelink">Member</a><span class="separatorwide"></span><a
                rel="noopener noreferrer" target="memo" href="https://memo.cash/profile/{address}"
                id="membermemoprofilelink">Memo</a>
        </div>
    </div>
    <label for="memberidenticon">Identicon</label>
    <div id="memberidenticon"><svg width="20" height="20" class="jdenticonlarge" data-jdenticon-value="{address}"
            viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet">
            <path fill="#d6bae8"
                d="M6.7 4a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M10.7 4a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M10.7 16a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M6.7 16a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M2.7 8a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M14.7 8a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M14.7 12a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M2.7 12a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0">
            </path>
            <path fill="#7c38a8" d="M2 2L6 2L6 6ZM18 2L18 6L14 6ZM18 18L14 18L14 14ZM2 18L2 14L6 14Z"></path>
            <path fill="#ad75d1"
                d="M8 9a1,1 0 1,1 2,0a1,1 0 1,1 -2,0M10 9a1,1 0 1,1 2,0a1,1 0 1,1 -2,0M10 11a1,1 0 1,1 2,0a1,1 0 1,1 -2,0M8 11a1,1 0 1,1 2,0a1,1 0 1,1 -2,0">
            </path>
        </svg></div>
    <label>Address</label>
    <div id="membercashaddress">
        <span id="membercashaddrformat">{cashaddress}</span>
        <div id="membercashaddrformatdiv">
            <span class="qrcodeclick" onclick="showQRCode('membercashaddrformat',200);">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                    width="24" height="24" viewBox="0 0 24 24">
                    <path d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,
                          11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,
                          19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,
                          15H9V21H3V15M5,17V19H7V17H5Z"></path>
                </svg> Click to enlarge QR code
            </span>
        </div>
    </div>
    <label for="memberblockexplorer">Block Explorers</label>
    <div id="memberblockexplorer">
        <a class="blockexplorerlink" rel="noopener noreferrer" target="bitcoincom" id="memberbitcoincom"
            href="https://explorer.bitcoin.com/bch/address/{address}">bitcoin.com</a>
        <a class="blockexplorerlink" rel="noopener noreferrer" target="blockchair" id="memberblockchair"
            href="https://blockchair.com/bitcoin-cash/address/{address}">blockchair</a>
        <a class="blockexplorerlink" rel="noopener noreferrer" target="btccom" id="memberbtccom"
            href="https://bch.btc.com/{address}">btc.com</a>
        <a class="blockexplorerlink" rel="noopener noreferrer" target="bitcoinunlimited" id="memberbitcoinunlimited"
            href="https://explorer.bitcoinunlimited.info/address/{address}">bitcoin unlimited</a>
    </div>
    <div id="memberlegacyaddress">
        <label>Legacy Address</label>
        <div>
            <span id="memberlegacyformat">{address}</span>
            <div id="memberlegacyformatdiv">
                <span class="qrcodeclick" onclick="showQRCode('memberlegacyformat',200);">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                        width="24" height="24" viewBox="0 0 24 24">
                        <path d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,
                              11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,
                              19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,
                              15H9V21H3V15M5,17V19H7V17H5Z"></path>
                    </svg> Click to enlarge QR code
                </span></div>
        </div>
    </div>
    <div class="memberstats">
        <div class="follow">
            <label data-vavilon="mute">Follow</label>
            {followbuttonhtml}
        </div>
        <div class="mute">
            <label data-vavilon="mute">Mute</label>
            {mutebuttonhtml}
        </div>
        <div class="followers">
            <label>Followers</label>
            <a id="memberfollowersnumber" href="#followers?qaddress={address}">{followers}</a>
        </div>
        <div class="following">
            <label>Following</label>
            <a id="memberfollowingnumber" href="#following?qaddress={address}">{following}</a>
        </div>
        <div class="muters">
            <label>Muters</label>
            <a id="memberblockersnumber" href="#blockers?qaddress={address}">{muters}</a>
        </div>
        <div class="muting">
            <label>Muting</label>
            <a id="memberblockingnumber" href="#blocking?qaddress={address}">{muting}</a>
        </div>
    </div>
    <div id="memberratinggroup" style="display: none;">
        <label for="memberratingcomment">You Rate</label>
        <div class="memberratinggroup">
            <div class="memberratingcomment" id="memberratingcomment"></div>
            <div class="memberrating" id="memberrating"></div>
        </div>
    </div>
</div>`;

pages.settings = `
<div class="content">
    <input id="settingspagingid" value="{pagingid}" style="display:none;">
    <input id="settingspublickey" value="{publickey}" style="display:none;">
    <input id="settingspicurl" value="{picurl}" style="display:none;">
    <input id="settingstokens" value="{tokens}" style="display:none;">
    <input id="settingsnametime" value="{nametime}" style="display:none;">
    <input id="settingsrating" value="{rating}" style="display:none;">


    <h2 class="vavilon" data-vavilon="settings">Settings</h2>
    <div class="settingspiccontainer">
        <label id="settingspiclargelabel" for="settingspic" style="display:inline;">Profile Picture
            <span class="profilepicdirections">(Must be imgur link in this format)</span></label>
        <div class="formgroup">
            <input maxlength="217" size="30" id="settingspic" value="https://i.imgur.com/XXXXXXXX.jpg"
                onchange="document.getElementById('settingspicbutton').disabled=false;" onkeypress="this.onchange();"
                onpaste="this.onchange();" oninput="this.onchange();">
            <button id="settingspicbutton" type="button" onclick="setPic();" class="vavilon" data-vavilon="update"
                disabled="">update</button>
        </div>
        <span class="settingspiclarge" style="display:inline;">
            {profilepiclargehtml}
        </span>

    </div>
    <div>
        <label for="settingsnametext">Handle</label>
        <div class="formgroup">
            <input maxlength="217" size="30" id="settingsnametext" value="{handle}"
                onchange="document.getElementById('settingsnametextbutton').disabled=false;"
                onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();" disabled="">
            <button id="settingsnametextbutton" type="button" onclick="setName();" class="vavilon" data-vavilon="update"
                disabled="">update</button>
        </div>
    </div>
    <label for="settingspagingid">Paging ID</label>
    <div id="settingspagingid">@{pagingid}</div>
    <div>
        <label for="settingsprofiletext">Profile</label>
        <div class="formgroup">
            <input maxlength="217" size="30" id="settingsprofiletext" value="{profile}"
                onchange="document.getElementById('settingsprofiletextbutton').disabled=false;"
                onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
            <button id="settingsprofiletextbutton" type="button" onclick="setProfile();" class="vavilon"
                data-vavilon="update" disabled="">update</button>
        </div>
    </div>
    <div>
        <label for="settingsprofilelogout" class="vavilon" data-vavilon="log out">Logout</label>
        <a title="Logout" id="settingsprofilelogout" class="btn vavilon" data-vavilon="log out" href="#logout"
            onclick="logout();">Logout</a>
    </div>
    <div>
        <label for="notificationbutton" class="vavilon" data-vavilon="notifications">Notifications</label>
        <span class="allownotifications"><a id="notificationbutton" class="notificationbutton" href="javascript:;"
                onclick="requestNotificationPermission(); this.style.display='none';">Allow
                Notifications</a></span>
    </div>

    <div class="settingsprofilelinks">
        <label>Profile Links</label>
        <div>
            <a href="#member?qaddress={address}" id="settingsprofilelink">Member</a><span
                class="separatorwide"></span><a rel="noopener noreferrer" target="memo"
                href="https://memo.cash/profile/{address}" id="settingsmemoprofilelink">Memo</a>
        </div>
    </div>
    <label for="settingsidenticon">Identicon</label>
    <div id="settingsidenticon"><svg width="20" height="20" class="jdenticonlarge" data-jdenticon-value="{address}"
            viewBox="0 0 20 20" preserveAspectRatio="xMidYMid meet">
            <path fill="#d6bae8"
                d="M6.7 4a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M10.7 4a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M10.7 16a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M6.7 16a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M2.7 8a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M14.7 8a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M14.7 12a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0M2.7 12a1.3,1.3 0 1,1 2.7,0a1.3,1.3 0 1,1 -2.7,0">
            </path>
            <path fill="#7c38a8" d="M2 2L6 2L6 6ZM18 2L18 6L14 6ZM18 18L14 18L14 14ZM2 18L2 14L6 14Z"></path>
            <path fill="#ad75d1"
                d="M8 9a1,1 0 1,1 2,0a1,1 0 1,1 -2,0M10 9a1,1 0 1,1 2,0a1,1 0 1,1 -2,0M10 11a1,1 0 1,1 2,0a1,1 0 1,1 -2,0M8 11a1,1 0 1,1 2,0a1,1 0 1,1 -2,0">
            </path>
        </svg></div>
    <div id="settingsprofileaddress">

        <label class="vavilon" data-vavilon="address">Address</label>
        <span id="cashaddrformat">{cashaddress}</span>
        <div id="cashaddrformatdiv">
            <span class="qrcodeclick" onclick="showQRCode('cashaddrformat',200);">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                    width="24" height="24" viewBox="0 0 24 24">
                    <path d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,
                                          11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,
                                          19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,
                                          15H9V21H3V15M5,17V19H7V17H5Z"></path>
                </svg> Click to enlarge QR code
            </span>
        </div>
    </div>
    <label for="settingsblockexplorer">Block Explorers</label>
    <div id="settingsblockexplorer">
        <a class="blockexplorerlink" rel="noopener noreferrer" target="bitcoincom" id="settingsbitcoincom"
            href="https://explorer.bitcoin.com/bch/address/{address}">bitcoin.com</a>
        <a class="blockexplorerlink" rel="noopener noreferrer" target="blockchair" id="settingsblockchair"
            href="https://blockchair.com/bitcoin-cash/address/{address}">blockchair</a>
        <a class="blockexplorerlink" rel="noopener noreferrer" target="btccom" id="settingsbtccom"
            href="https://bch.btc.com/{address}">btc.com</a>
        <a class="blockexplorerlink" rel="noopener noreferrer" target="bitcoinunlimited" id="settingsbitcoinunlimited"
            href="https://explorer.bitcoinunlimited.info/address/{address}">bitcoin
            unlimited</a>
    </div>
    <div id="settingslegacyprofileaddress">
        <label>Legacy Address</label>
        <span id="legacyformat">{address}</span>
        <div id="legacyformatdiv">
            <span class="qrcodeclick" onclick="showQRCode('legacyformat',200);">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                    width="24" height="24" viewBox="0 0 24 24">
                    <path d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,
                                          11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,
                                          19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,
                                          15H9V21H3V15M5,17V19H7V17H5Z"></path>
                </svg> Click to enlarge QR code
            </span>
        </div>
    </div>
    <div id="settingsprivatekey">
        <label class="vavilon" data-vavilon="Seed Phrase / Private Key / WIF">Seed Phrase / Private Key
            / WIF</label>
        <span id="privatekeydisplay" style="display: none;">{seedphrase}</span>
        <span id="privatekey"><a id="privatekeyclicktoshow"
                onclick="document.getElementById('privatekeydisplay').style.display='block';document.getElementById('privatekeyclicktoshow').style.display='none';">text</a></span>
        <div id="privatekeydisplaydiv"></div>
        <span id="privatekeyformat" style="display: none;">{privatekey}</span>
        <div id="privatekeyformatdiv">
            <span class="qrcodeclick" onclick="showQRCode('privatekeyformat',200);">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                    width="24" height="24" viewBox="0 0 24 24">
                    <path d="M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,
                                          11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,
                                          19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,
                                          15H9V21H3V15M5,17V19H7V17H5Z"></path>
                </svg> Click to enlarge QR code
            </span>
        </div>
    </div>
    <div>
        <label for="cssselector" class="vavilon" data-vavilon="themes">Theme</label>
        <select id="cssselector" onchange="changeStyle(document.getElementById('cssselector').value, true);">
            <option class="vavilon" data-vavilon="change theme" value="feels">Choose Theme</option>
            <option value="feels">Feels</option>
            <option value="feels-night">Feels Night Mode</option>
            <option value="base none">Member</option>
            <option value="base nightmode none">Member Night Mode</option>
            <option value="base hackernews">Hacker News</option>
            <option value="base hackernews hnnightmode">Hacker News Night Mode</option>
            <option value="nifty">Nifty (Under Development)</option>
            <option class="vavilon" data-vavilon="none" value="none">None</option>
        </select>
    </div>
    <div class="profilestats">
        <div class="follow">
            <label data-vavilon="mute">Follow</label>
            {followbuttonhtml}
        </div>
        <div class="mute">
            <label data-vavilon="mute">Mute</label>
            {mutebuttonhtml}
        </div>
        <div class="followers">
            <label>Followers</label>
            <a id="settingsfollowersnumber" href="#followers?qaddress={address}">{followers}</a>
        </div>
        <div class="following">
            <label>Following</label>
            <a id="settingsfollowingnumber" href="#following?qaddress={address}">{following}</a>
        </div>
        <div class="muters">
            <label>Muters</label>
            <a id="settingsblockersnumber" href="#blockers?qaddress={address}">{muters}</a>
        </div>
        <div class="muting">
            <label>Muting</label>
            <a id="settingsblockingnumber" href="#blocking?qaddress={address}">{muting}</a>
        </div>
    </div>
    <div>
        <label for="oneclicktip">One-Click Tip Amount</label>
        <input id="oneclicktip" size="8" type="number" onchange="updateSettingsNumber('oneclicktip');"
            onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
        (Amount to tip when clicking up arrow. Minimum 547)
    </div>
    <div>
        <label for="maxfee">Max Fee</label>
        <input id="maxfee" size="3" type="number" step="1" onchange="updateSettingsNumber('maxfee');"
            onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
        (Max
        satoshis per byte to pay during network congestion. Minimum 2)
    </div>
    <div>
        <label for="results">Number Of Results To Show</label>
        <input id="results" size="3" type="number" step="1" onchange="updateSettingsNumber('results');"
            onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();">
        (Max results to show per page. Maximum 100)
    </div>
    <div>
        <label for="currencydisplay" data-vavilon="Currency Display">Currency Display</label>
        <select id="currencydisplay" onchange="updateSettingsDropdown('currencydisplay');">
            <option value="USD">USD</option>
            <option value="BCH">BCH</option>
        </select>
    </div>
    <div>
        <label for="mutedwords">Muted Words (Comma Separate)</label>
        <textarea id="mutedwords" maxlength="217" name="text" rows="4" cols="60" onchange="updatemutedwords();"
            onkeypress="this.onchange();" onpaste="this.onchange();" oninput="this.onchange();"></textarea>
    </div>
    <div>
        <label for="mediasettings" class="labelheader vavilon" data-vavilon="Media Settings">Media
            Settings</label>
    </div>
    <div class="customcheckbox">
        <input type="checkbox" id="showyoutube" onchange="updateSettingsCheckbox('showyoutube');">
        <label for="showyoutube" class="checkboxlabel vavilon" data-vavilon="Show YouTube Preview Images">Show
            YouTube Preview Images</label>
    </div>
    <div class="customcheckbox">
        <input type="checkbox" id="showimgur" onchange="updateSettingsCheckbox('showimgur');">
        <label for="showimgur" class="checkboxlabel vavilon" data-vavilon="Show Imgur Images">Show Imgur
            Images</label>
    </div>
    <div class="customcheckbox">
        <input type="checkbox" id="showtwitter" onchange="updateSettingsCheckbox('showtwitter');">
        <label for="showtwitter" class="checkboxlabel vavilon" data-vavilon="Show Tweets">Show
            Tweets</label>
    </div>
    <div>
        <label for="contentserver" data-vavilon="Content Server">Content Server</label>
        <select id="contentserver" onchange="updateSettingsDropdown('contentserver');">
            <option value="https://member.cash/v2/member.js">member.cash</option>
            <option value="https://memberjs.bchd.cash/member.js">memberjs.bchd.cash</option>
            <option value="http://127.0.0.1:3123/v2/member.js">Localhost</option>
        </select>
    </div>
    <div>
        <label for="txbroadcastserver" data-vavilon="TX Broadcast Server">TX Broadcast Server</label>
        <select id="txbroadcastserver" onchange="updateSettingsDropdown('txbroadcastserver');">
            <option value="https://member.cash/v2/">member.cash</option>
            <option value="https://memberjs.bchd.cash/v2/">memberjs.bchd.cash</option>
            <option value="http://127.0.0.1:3123/v2/">Localhost</option>
            <option value="https://rest.bitcoin.com/v2/">Bitcoin.com</option>
        </select>
    </div>

    <div>
        <label for="utxoserver" data-vavilon="UTXO Server">UTXO Server</label>
        <select id="utxoserver" onchange="updateSettingsDropdown('utxoserver');">
            <option value="https://member.cash/v2/">member.cash</option>
            <option value="https://rest.bitcoin.com/v2/">Bitcoin.com</option>
            <option value="https://memberjs.bchd.cash/v2/">memberjs.bchd.cash</option>
            <option value="http://127.0.0.1:3123/v2/">Localhost</option>
        </select>
    </div>
</div>`;


var headerHTML = `
<div class="pagetop">
    <nav>
        <span class="memberlogo">
            <a href="./index.html" aria-label="Refresh">
                <img class="memberlogoimagefull" src="img/logos/logowide.svg" width="130" height="26"
                    alt="Site Logo Full" />
                <img class="memberlogoimage" src="img/logos/membericon.svg" width="26" height="26"
                    alt="Site Logo Icon" />
            </a>
        </span>
        <span class="navitemsmain">
            <span id="loggedin" style="display:none;">
                <span class="headerbuttons">
                    <span onclick="refreshPool();return false;" title="Refresh Balance" id="balancedetails"
                        class="balancedetails"><span id="balance">0</span></span>
                    <a id="myfeedbutton" title="My Feed (Latest posts from your topics or peeps)" class="btn"
                        href="#myfeed" onclick="nlc();">📰</a>
                    <a id="notificationsbutton" title="Notifications" class="btn" href="#notifications?start=0"
                        onclick="nlc();">🔔<span class="alertcount noselect" id="alertcount"></span></a>
                    <a id="newbutton" title="New Post" class="btn newpostbutton" href="#new" onclick="nlc();">🖊️</a>
                    <a id="privatemessagesbutton" title="Messages" class="btn privatemessagesbutton" href="#messages"
                        onclick="nlc();">📧<span class="alertcount noselect" id="alertcountpm"></span></a>
                    <a id="settingsbutton" title="Settings" class="btn" href="#settings" onclick="nlc();">⚙️</a>
                    <a id="toolsbutton" title="Tools" class="btn" href="#tools" onclick="nlc();">🛠️</a>
                </span>
            </span>
            <span class="headerbuttons">
                <a id="topiclistbutton" title="Topic List" class="btn" href="#topiclist" onclick="nlc();">📚</a>
                <a id="mapbutton" title="Map" class="btn" href="#map" onclick="nlc();">🌍</a>
            </span>
            <span id="loggedout" class="loggedout">
                <a id="loginbutton" class="btn vavilon" data-vavilon="log in" href="#login" onclick="nlc();">login</a>
                <span class="separatorwide"></span>
                <a id="loginbutton" class="btn vavilon" data-vavilon="new account" href="#login"
                    onclick="nlc();">start</a>
            </span>
            <span class="separatorwidebreakpoint"></span>
            <span id="topiccontainer" class="topiccontainer">
                <select id="orderselector" onchange="postsSelectorChanged();">
                    <option value="hot" title="Hottest posts" class="vavilon" data-vavilon="hot" selected="selected">Hot
                    </option>
                    <option value="new" title="Latest posts" class="vavilon" data-vavilon="new">New</option>
                    <option value="topd" title="Top posts from the past Day" class="vavilon" data-vavilon="today">Day
                    </option>
                    <option value="top48" title="Top posts from the past 48 Hours" class="vavilon" data-vavilon="top48">
                        48hrs</option>
                    <option value="topw" title="Top posts from the past Week" class="vavilon" data-vavilon="this week">
                        Week</option>
                    <option value="topm" title="Top posts from the past Month" class="vavilon"
                        data-vavilon="this month">Month</option>
                    <option value="topy" title="Top posts from the past Year" class="vavilon" data-vavilon="this year">
                        Year</option>
                    <option value="topa" title="Top posts from all time" class="vavilon" data-vavilon="all dates">All
                    </option>
                </select>
                <select id="contentselector" label="content" onchange="postsSelectorChanged();">
                    <option value="posts" class="vavilon" data-vavilon="posts" selected="selected">Posts
                    </option>
                    <option value="replies" class="vavilon" data-vavilon="comments">Replies</option>
                    <option value="both" class="vavilon" data-vavilon="all">In Both</option>
                </select>
                <select id="topicselector" label="topic" onchange="postsSelectorChanged();">
                    <option value="" class="vavilon" data-vavilon="all topics" selected="selected">All
                        Topics</option>
                    <option value=""></option>
                    <option value="">---------------</option>
                    <option value="MyTopics">My Topics</option>
                    <option value="MyFeed">My Feed</option>
                    <option value="Member">Member</option>
                    <option value="Bitcoin Cash">Bitcoin Cash</option>
                    <option value="Bitcoin SV">Bitcoin SV</option>
                    <option value="Memo">Memo</option>
                    <option value="Airdrops">Airdrops</option>
                    <option value="Tokens">Tokens</option>
                    <option value="OpenBazaar">OpenBazaar</option>
                    <option value="Capitalism">Capitalism</option>
                    <option value="US Politics/Trump">US Politics</option>
                    <option value="Favorite Quotes">Quotes</option>
                    <option value="Ideas to improve our lives">Improvement</option>
                    <option value="#911Truth">#911Truth</option>
                </select>
                <select id="filterselector" label="filter" onchange="postsSelectorChanged();">
                    <option value="everyone" class="vavilon" data-vavilon="everyone" selected="selected">
                        Everyone</option>
                    <option value="mypeeps" class="vavilon" data-vavilon="mypeople">My Peeps</option>
                </select>
            </span>
        </span>
        <a id="refreshbutton" title="Refresh Content" class="headerbuttons btn" href=""
            onclick="postsSelectorChanged();return false;">🔄</a>
    </nav>
</div>
`;

var footerHTML = `
<div class="content">
    <hr />
    <span id="developmentversion" style="display: none;">You're viewing the development preview version
        of Member You may need to SHIFT + Reload to get the very latest changes. Generally, It's
        recommended to <a rel='noopener noreferrer' target="member" href="https://member.cash">use the stable
            version at
            https://member.cash</a><br /><br />
        <hr /></span>
    <span class="footerlinks">
        <a rel='noopener noreferrer' target="memo"
            href="https://memo.cash/token/766f9f56ac0a3f0e4c64cb3453d0c45336a20685827801b2188d237c2a6ffc43?balances">
            Top Supporters
        </a>
        <span class="separatorwide"></span>
        <a rel='noopener noreferrer' target="member"
            href="https://member.cash/#member?qaddress=16gs2oeLVJJT3YTL8uHLoRyLQtaWfEDxh1">Donate</a>
        <span class="separatorwide"></span>
        <a rel='noopener noreferrer' target="github" href="https://github.com/memberapp/memberapp.github.io">Github</a>
        <span class="separatorwide"></span>
        <a class="vavilon" data-vavilon="bitcoin" rel='noopener noreferrer' target="bitcoin"
            href="https://www.bitcoin.com">Bitcoin</a>
        <span class="separatorwide"></span>
        <a rel='noopener noreferrer' target="github" href="https://github.com/memberapp/protocol">Protocol</a>
        <span class="separatorwide"></span>
        <a href="mailto:freetrade.mc@gmail.com" class="vavilon" data-vavilon="contact">Contact</a>
        <span class="separatorwide"></span>
        <span class="vavilon" data-vavilon="version">version</span> <span id="version">loading</span>.<u>9</u>
    </span>
    <br />
    <br />
</div>
`;